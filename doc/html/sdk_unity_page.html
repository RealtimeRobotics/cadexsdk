<!-- HTML header for doxygen 1.8.9.1-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>CAD Exchanger SDK: Integration with Unity</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link rel="icon" type="image/png" sizes="16x16" href="https://cloud.cadexchanger.com/assets/images/icon16.png">
<link rel="icon" type="image/png" sizes="32x32" href="https://cloud.cadexchanger.com/assets/images/icon32.png">
<link rel="icon" type="image/png" sizes="96x96" href="https://cloud.cadexchanger.com/assets/images/icon96.png">
<link href="https://fonts.googleapis.com/css?family=Nunito:300" rel="stylesheet">
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/mathjax@2/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="cadex_doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<a id="logo" href="https://cadexchanger.com/products/sdk" style="height:48px">
  <img id="projectlogo" alt="Logo" src="logo-36.png"/>
  <span id="projectname" style="padding-left:0.5em;">CAD Exchanger SDK</span>
</a>
</div>
<div class="body-content">
<div class="collapsible">
  <a id="show-menu-button" href="#">Hide menu</a>
<!-- Generated by Doxygen 1.8.11 -->
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('sdk_unity_page.html','');});
</script>
<div id="doc-content">
<div class="header">
  <div class="headertitle">
<div class="title">Integration with Unity </div>  </div>
</div><!--header-->
<div class="contents">
<div class="toc"><h3>Table of Contents</h3>
<ul><li class="level1"><a href="#sdk_unity_overview">Overview</a></li>
<li class="level1"><a href="#sdk_unity_cadexunity">Conversion of models to Unity objects</a></li>
<li class="level1"><a href="#sdk_unity_building">Building</a></li>
<li class="level1"><a href="#sdk_unity_examples">Examples</a></li>
</ul>
</div>
<div class="textblock"><h1><a class="anchor" id="sdk_unity_overview"></a>
Overview</h1>
<p>One possible custom scenario is to use CAD Exchanger together with the Unity game engine. CAD Exchanger supports integration with Unity game engine for the purpose of loading models in formats not supported by Unity itself.</p>
<div class="image">
<img src="unity-import.png" alt="unity-import.png"/>
<div class="caption">
Example of model imported with CAD Exchanger add-on</div></div>
 <h1><a class="anchor" id="sdk_unity_cadexunity"></a>
Conversion of models to Unity objects</h1>
<p>CadExUnity is a CAD Exchanger SDK module that allows you to convert <a class="el" href="classcadex_1_1_model_data___model.html" title="Provides CAD Exchanger data model. ">ModelData_Model</a> to Unity's <a href="https://docs.unity3d.com/ScriptReference/GameObject.html">GameObjects</a>. </p><dl class="section note"><dt>Note</dt><dd>Since Unity scripts are implemented in C#, the CadExUnity module is only available as a .NET library.</dd></dl>
<p><a class="el" href="classcadex_1_1_model_data___model.html" title="Provides CAD Exchanger data model. ">ModelData_Model</a> is mapped to Unity objects as follows: </p><ul>
<li>Product structure is mapped to the hierarchy of <a href="https://docs.unity3d.com/ScriptReference/GameObject.html">GameObjects</a>, implemented via parent-child relationships. </li>
<li>The geometry is stored in <a href="https://docs.unity3d.com/ScriptReference/Mesh.html">Unity.Mesh</a>. </li>
<li>Appearance attributes are converted to <a href="https://docs.unity3d.com/ScriptReference/Material.html">Unity.Material</a>.</li>
</ul>
<dl class="section note"><dt>Note</dt><dd>Since Unity does not support B-Rep geometry, for all models that do not contain a polygonal representation, the BRep-representation will be converted to polygons.</dd></dl>
<p>To perform the conversion one must use <code>Unity_ObjectFactory.Create()</code> which takes the <a class="el" href="classcadex_1_1_model_data___model.html" title="Provides CAD Exchanger data model. ">ModelData_Model</a> and an optional name and returns GameObject.</p>
<p>The following example demonstrates a typical workflow: </p><div class="fragment"><div class="line"><span class="keyword">using</span> <a class="code" href="namespacecadex.html">cadex</a>;</div><div class="line"><span class="keyword">using</span> UnityEngine;</div><div class="line"></div><div class="line">...</div><div class="line"></div><div class="line"><a class="code" href="classcadex_1_1_s_t_e_p___reader.html">STEP_Reader</a> aReader = <span class="keyword">new</span> STEP_Reader();</div><div class="line">aReader.ReadFile(<span class="keyword">new</span> Base_UTF16String(<span class="stringliteral">&quot;MyModel.stp&quot;</span>));</div><div class="line"></div><div class="line"><span class="comment">//convert STEP to MDM</span></div><div class="line">ModelData_Model aLoadedModel = <span class="keyword">new</span> ModelData_Model();</div><div class="line">aReader.Transfer(aLoadedModel);</div><div class="line"></div><div class="line"><span class="comment">//convert MDM to GameObject</span></div><div class="line">Unity_ObjectFactory aFactory = <span class="keyword">new</span> Unity_ObjectFactory();</div><div class="line">GameObject aTarget = aFactory.Create (aLoadedModel, <span class="stringliteral">&quot;MyModel.stp&quot;</span>);</div><div class="line"></div><div class="line">...</div></div><!-- fragment --><p>To display sheet models correctly CAD Exchanger Unity plugin provides a special shader: <code>CadEx2sideShader.SHADER</code>. It can be found in <code>${install_dir}/examples/csharp/Unity/Assets/Shaders</code> folder.</p>
<dl class="section note"><dt>Note</dt><dd>You can copy this shader into your own project to obtain the same rendering results as in the example.<br />
Otherwise the "Standard" shader will be used.</dd></dl>
<h1><a class="anchor" id="sdk_unity_building"></a>
Building</h1>
<p>CadEx Unity works with two shaders: "CadEx2sideShader" and "Standard" (standard Unity Shader). To build your project successfully, at least one of them must be added to your shadervariants file. </p><dl class="section note"><dt>Note</dt><dd>You can use the ready made shadervariants file residing here:<br />
 <code>${install_dir}/examples/csharp/Unity/Assets/Shaders/CadExUnityShaderVariants.shadervariants</code>.<br />
 To do this add this file to your project and specify it in the Build settings-&gt;Player Settings-&gt;Graphics-&gt;Preloaded Shaders.</dd></dl>
<h1><a class="anchor" id="sdk_unity_examples"></a>
Examples</h1>
<p>Refer to <a class="el" href="sdk_unity_example_page.html">Unity Base Viewer Example</a>, <a class="el" href="sdk_unitypmi_example_page.html">Unity PMI Viewer Example</a>, <a class="el" href="sdk_unityeditmodeimport_example_page.html">Unity Edit Mode Import Example</a>, <a class="el" href="sdk_unityeditmodeexport_example_page.html">Unity Edit Mode Export Example</a> </p>
</div></div><!-- contents -->
</div><!-- doc-content -->
</div>
<div id="nav-path" class="navpath">
  <ul>
    <li class="footer">
      <a href="https://cadexchanger.com/custom-development" style="background: #226daa; color:#fff; padding: 6px; text-decoration: none; border-radius: 5px;">Custom Development</a>
      <a href="https://cadexchanger.com/products/gui" style="margin:5px;">GUI</a>
      <a href="https://cadexchanger.com/products/sdk" style="margin:5px;">SDK</a>
      <a href="https://cadexchanger.com/products/cli" style="margin:5px;">CLI</a>
      <a href="https://cadexchanger.com/products/web-toolkit" style="margin:5px;">Web Toolkit</a>
      <a href="https://cadexchanger.com/products/cloud" style="margin:5px;">Cloud</a>
      <a href="https://cadexchanger.com/products/cloud-api" style="margin:5px;">Cloud API</a>
      <a href="https://cadexchanger.com/iges" style="margin:5px; color: #838383;">IGES</a>
      <a href="https://cadexchanger.com/step" style="margin:5px; color: #838383;">STEP</a>
      <a href="https://cadexchanger.com/parasolid" style="margin:5px; color: #838383;">Parasolid</a>
      <a href="https://cadexchanger.com/acis" style="margin:5px; color: #838383;">ACIS</a>
      <a href="https://cadexchanger.com/jt" style="margin:5px; color: #838383;">JT</a>
      <a href="https://cadexchanger.com/stl" style="margin:5px; color: #838383;">STL</a>
      <a href="https://cadexchanger.com/obj" style="margin:5px; color: #838383;">OBJ</a>
      <a href="https://cadexchanger.com/solidworks" style="margin:5px; color: #838383;">SolidWorks</a>
      <a href="https://cadexchanger.com/creo" style="margin:5px; color: #838383;">Creo</a>
      <a href="https://cadexchanger.com/nx" style="margin:5px; color: #838383;">NX</a>
      <a href="https://cadexchanger.com/catia" style="margin:5px; color: #838383;">CATIA</a>
      <a href="https://cadexchanger.com/ifc" style="margin:5px; color: #838383;">IFC</a>
      <a href="https://cadexchanger.com/rhino" style="margin:5px; color: #838383;">Rhino</a>
      <a href="https://cadexchanger.com/vrml" style="margin:5px; color: #838383;">VRML</a>
      <a href="https://cadexchanger.com/fbx" style="margin:5px; color: #838383;">FBX</a>
      <a href="https://cadexchanger.com/gltf" style="margin:5px; color: #838383;">GLTF</a>
      <a href="https://cadexchanger.com/dxf" style="margin:5px; color: #838383;">DXF</a>
      <a href="https://cadexchanger.com/dwg" style="margin:5px; color: #838383;">DWG</a>
      <a href="https://cadexchanger.com/collada" style="margin:5px; color: #838383;">Collada</a>
      <a href="https://cadexchanger.com/3ds" style="margin:5px; color: #838383;">3DS</a>
      <a href="https://cadexchanger.com/x3d" style="margin:5px; color: #838383;">X3D</a>
      <a href="https://cadexchanger.com/3mf" style="margin:5px; color: #838383;">3MF</a>
      <a href="https://cadexchanger.com/u3d" style="margin:5px; color: #838383;">U3D</a>
      <a href="https://cadexchanger.com/3dpdf" style="margin:5px; color: #838383;">3D PDF</a>
      <a href="https://cadexchanger.com/prc" style="margin:5px; color: #838383;">PRC</a>
      <a href="https://cadexchanger.com/brep" style="margin:5px; color: #838383;">BRep</a>
      <a href="https://cadexchanger.com/usd" style="margin:5px; color: #838383;">USD</a>
      <a href="https://cadexchanger.com/" style="margin:5px; color: #838383;">cadexchanger.com</a>
    </li>
  </ul>
</div>
</body>
</html>
