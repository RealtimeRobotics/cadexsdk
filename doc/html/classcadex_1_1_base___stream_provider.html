<!-- HTML header for doxygen 1.8.9.1-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>CAD Exchanger SDK: cadex::Base_StreamProvider&lt; T &gt; Class Template Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link rel="icon" type="image/png" sizes="16x16" href="https://cloud.cadexchanger.com/assets/images/icon16.png">
<link rel="icon" type="image/png" sizes="32x32" href="https://cloud.cadexchanger.com/assets/images/icon32.png">
<link rel="icon" type="image/png" sizes="96x96" href="https://cloud.cadexchanger.com/assets/images/icon96.png">
<link href="https://fonts.googleapis.com/css?family=Nunito:300" rel="stylesheet">
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/mathjax@2/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="cadex_doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<a id="logo" href="https://cadexchanger.com/products/sdk" style="height:48px">
  <img id="projectlogo" alt="Logo" src="logo-36.png"/>
  <span id="projectname" style="padding-left:0.5em;">CAD Exchanger SDK</span>
</a>
</div>
<div class="body-content">
<div class="collapsible">
  <a id="show-menu-button" href="#">Hide menu</a>
<!-- Generated by Doxygen 1.8.11 -->
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('classcadex_1_1_base___stream_provider.html','');});
</script>
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="classcadex_1_1_base___stream_provider-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">cadex::Base_StreamProvider&lt; T &gt; Class Template Reference<span class="mlabels"><span class="mlabel">abstract</span></span></div>  </div>
</div><!--header-->
<div class="contents">

<p>Base template class for user-defined stream providers that can be used during file parsing or formatting.  
 <a href="classcadex_1_1_base___stream_provider.html#details">More...</a></p>

<p>Inherited by cadex::internal::Base_IFileStreamProvider.</p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:ab2df0d1eb4e90d32c21db6998e36c605"><td class="memItemLeft" align="right" valign="top">virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcadex_1_1_base___stream_provider.html#ab2df0d1eb4e90d32c21db6998e36c605">~Base_StreamProvider</a> ()</td></tr>
<tr class="memdesc:ab2df0d1eb4e90d32c21db6998e36c605"><td class="mdescLeft">&#160;</td><td class="mdescRight">Destructor.  <a href="#ab2df0d1eb4e90d32c21db6998e36c605">More...</a><br /></td></tr>
<tr class="separator:ab2df0d1eb4e90d32c21db6998e36c605"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab08bb92ff3b8dba88780d1fa0aa46fcc"><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcadex_1_1_base___stream_provider.html#ab08bb92ff3b8dba88780d1fa0aa46fcc">IsOpen</a> () const  =0</td></tr>
<tr class="memdesc:ab08bb92ff3b8dba88780d1fa0aa46fcc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns true if the underlying stream has been successfully open and is available for access.  <a href="#ab08bb92ff3b8dba88780d1fa0aa46fcc">More...</a><br /></td></tr>
<tr class="separator:ab08bb92ff3b8dba88780d1fa0aa46fcc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1594ac582abbacb4977d3aa3d175f210"><td class="memItemLeft" align="right" valign="top">virtual T &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcadex_1_1_base___stream_provider.html#a1594ac582abbacb4977d3aa3d175f210">Stream</a> ()=0</td></tr>
<tr class="memdesc:a1594ac582abbacb4977d3aa3d175f210"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns underlying stream.  <a href="#a1594ac582abbacb4977d3aa3d175f210">More...</a><br /></td></tr>
<tr class="separator:a1594ac582abbacb4977d3aa3d175f210"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a927aec821974412677ac158b6e678643"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcadex_1_1_base___stream_provider.html#a927aec821974412677ac158b6e678643">Open</a> (const <a class="el" href="classcadex_1_1_base___u_t_f16_string.html">Base_UTF16String</a> &amp;theFileName)=0</td></tr>
<tr class="memdesc:a927aec821974412677ac158b6e678643"><td class="mdescLeft">&#160;</td><td class="mdescRight">Opens the stream per its file name.  <a href="#a927aec821974412677ac158b6e678643">More...</a><br /></td></tr>
<tr class="separator:a927aec821974412677ac158b6e678643"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a304418f2e266619df32a1b523b4f578f"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcadex_1_1_base___stream_provider.html#a304418f2e266619df32a1b523b4f578f">Close</a> ()=0</td></tr>
<tr class="memdesc:a304418f2e266619df32a1b523b4f578f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Closes the stream.  <a href="#a304418f2e266619df32a1b523b4f578f">More...</a><br /></td></tr>
<tr class="separator:a304418f2e266619df32a1b523b4f578f"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><h3>template&lt;typename T&gt;<br />
class cadex::Base_StreamProvider&lt; T &gt;</h3>

<p>Base template class for user-defined stream providers that can be used during file parsing or formatting. </p>
<p>An instance of provider is created by <a class="el" href="classcadex_1_1_base___stream_provider_factory.html" title="Base class for user-defined stream provider factories that can be used during file parsing or formatt...">Base_StreamProviderFactory</a> which is supplied into <a class="el" href="classcadex_1_1_base___reader.html#a94abcc1e36e1301ab7c058d56b128eb6" title="Reads the file into memory. ">Base_Reader::ReadFile()</a>.</p>
<p>Template instantiation Base_IStreamProvider instantiates a provider for input streams (std::istream).</p>
<p>Provider's lifespan can be large enough so the stream must remain valid throughout lifespan of the provider that provides it. The stream may be closed and reopened again during life-span. Thus, it should not be closed earlier than in the destructor.</p>
<p>The redefined virtual methods may be called by CAD Exchanger SDK once or multiple times for every file name, custom implementation should not make any assumptions on the number or timing of calls.</p>
<p>Subclasses should provide specific implementation to encapsulate stream objects (in the form of std::istream) for a particular data storage (e.g. cloud). This approach can be specifically useful when working with files with external references (such as JT) residing in specific data storage.</p>
<p>Below is a sample implementation:</p>
<div class="fragment"><div class="line"><span class="keyword">class </span>CloudStreamProvider : <span class="keyword">public</span> <a class="code" href="namespacecadex.html#a44ef919b6fa92672f46ecab44ae69ee9">Base_IStreamProvider</a></div><div class="line">{</div><div class="line"><span class="keyword">public</span>:</div><div class="line">    CloudIStreamProvider() {}</div><div class="line"></div><div class="line">    CloudIStreamProvider (<span class="keyword">const</span> Base_UTF16String&amp; theFileName) : myAccessor (theFileName) {}</div><div class="line"></div><div class="line">    <span class="keyword">virtual</span> <span class="keywordtype">bool</span> <a class="code" href="classcadex_1_1_base___stream_provider.html#ab08bb92ff3b8dba88780d1fa0aa46fcc">IsOpen</a>()<span class="keyword"> const override</span></div><div class="line"><span class="keyword">    </span>{ <span class="keywordflow">return</span> myAccessor.IsOpen(); }</div><div class="line"></div><div class="line">    <span class="keyword">virtual</span> std::istream&amp; <a class="code" href="classcadex_1_1_base___stream_provider.html#a1594ac582abbacb4977d3aa3d175f210">Stream</a>()<span class="keyword"> override</span></div><div class="line"><span class="keyword">    </span>{ <span class="keywordflow">return</span> myAccessor.Stream(); }</div><div class="line"></div><div class="line">    <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classcadex_1_1_base___stream_provider.html#a927aec821974412677ac158b6e678643">Open</a> (<span class="keyword">const</span> Base_UTF16String&amp; theFileName)<span class="keyword"> override</span></div><div class="line"><span class="keyword">    </span>{ myAccessor.Open (theFileName); }</div><div class="line"></div><div class="line">    <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classcadex_1_1_base___stream_provider.html#a304418f2e266619df32a1b523b4f578f">Close</a>()<span class="keyword"> override</span></div><div class="line"><span class="keyword">    </span>{ myAccessor.Closed(); }</div><div class="line"></div><div class="line"><span class="keyword">private</span>:</div><div class="line">    <span class="comment">//accessor for specific data storage</span></div><div class="line">    MyStorageAccessor   myAccessor;</div><div class="line">};</div><div class="line"></div><div class="line"><span class="keyword">class </span>CloudIStreamProviderFactory : <span class="keyword">public</span> <a class="code" href="namespacecadex.html#aa7f0dfeaee09e7036833f76f27cf63a3">Base_IStreamProviderFactory</a></div><div class="line">{</div><div class="line"><span class="keyword">public</span>:</div><div class="line">    <span class="keyword">virtual</span> std::shared_ptr&lt;StreamProvider&gt; Create (<span class="keyword">const</span> Base_UTF16String&amp; theFileName)<span class="keyword"> override</span></div><div class="line"><span class="keyword">    </span>{</div><div class="line">        <span class="keywordflow">return</span> std::shared_ptr&lt;Base_StreamProvider&gt; (<span class="keyword">new</span> CloudStreamProvider (theFileName));</div><div class="line">    };</div><div class="line"></div><div class="line">    <span class="keyword">virtual</span> std::shared_ptr&lt;StreamProvider&gt; Create()<span class="keyword"> override</span></div><div class="line"><span class="keyword">    </span>{</div><div class="line">        <span class="keywordflow">return</span> std::shared_ptr&lt;Base_StreamProvider&gt; (<span class="keyword">new</span> CloudStreamProvider());</div><div class="line">    };</div><div class="line">};</div><div class="line"></div><div class="line">JT_Reader aReader;</div><div class="line">aReader.<a class="code" href="classcadex_1_1_base___reader.html#a94abcc1e36e1301ab7c058d56b128eb6">ReadFile</a> (std::make_shared&lt;CloudIStreamProviderFactory&gt;(), <span class="stringliteral">&quot;/custom_path/assembly.jt&quot;</span>);</div></div><!-- fragment --><dl class="section see"><dt>See also</dt><dd><a class="el" href="classcadex_1_1_base___stream_provider_factory.html" title="Base class for user-defined stream provider factories that can be used during file parsing or formatt...">Base_StreamProviderFactory</a>, <a class="el" href="namespacecadex.html#a44ef919b6fa92672f46ecab44ae69ee9" title="Instantiates Base_StreamProvider for std::istream. ">Base_IStreamProvider</a>. </dd></dl>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="ab2df0d1eb4e90d32c21db6998e36c605"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classcadex_1_1_base___stream_provider.html">cadex::Base_StreamProvider</a>&lt; T &gt;::~<a class="el" href="classcadex_1_1_base___stream_provider.html">Base_StreamProvider</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Destructor. </p>
<p>Subclasses should typically close the stream here (e.g. by destroying an object wrapping the stream). </p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="a304418f2e266619df32a1b523b4f578f"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classcadex_1_1_base___stream_provider.html">cadex::Base_StreamProvider</a>&lt; T &gt;::Close </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Closes the stream. </p>
<p>This method will only be called if the stream needs to be closed (e.g. to reduce the number of simultaneously open files in Operating System) but the stream itself could be used later on. This may happen for instance when parsing JT files when each JT file contains multiple data segments which will be parsed at different moments on 'as needed' basis.</p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="classcadex_1_1_base___stream_provider.html#a927aec821974412677ac158b6e678643" title="Opens the stream per its file name. ">Open()</a>. </dd></dl>

</div>
</div>
<a class="anchor" id="ab08bb92ff3b8dba88780d1fa0aa46fcc"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="classcadex_1_1_base___stream_provider.html">cadex::Base_StreamProvider</a>&lt; T &gt;::IsOpen </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns true if the underlying stream has been successfully open and is available for access. </p>
<p>This method is guaranteed to be called before <a class="el" href="classcadex_1_1_base___stream_provider.html#a1594ac582abbacb4977d3aa3d175f210" title="Returns underlying stream. ">Stream()</a>. </p>

</div>
</div>
<a class="anchor" id="a927aec821974412677ac158b6e678643"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classcadex_1_1_base___stream_provider.html">cadex::Base_StreamProvider</a>&lt; T &gt;::Open </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classcadex_1_1_base___u_t_f16_string.html">Base_UTF16String</a> &amp;&#160;</td>
          <td class="paramname"><em>theFileName</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Opens the stream per its file name. </p>
<p>This method will only be called if either the provider has been created by the factory without specified file name or if the stream has been closed with the <a class="el" href="classcadex_1_1_base___stream_provider.html#a304418f2e266619df32a1b523b4f578f" title="Closes the stream. ">Close()</a> method. </p>

</div>
</div>
<a class="anchor" id="a1594ac582abbacb4977d3aa3d175f210"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">T &amp; <a class="el" href="classcadex_1_1_base___stream_provider.html">cadex::Base_StreamProvider</a>&lt; T &gt;::Stream </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns underlying stream. </p>
<p>This method will only be called if <a class="el" href="classcadex_1_1_base___stream_provider.html#ab08bb92ff3b8dba88780d1fa0aa46fcc" title="Returns true if the underlying stream has been successfully open and is available for access...">IsOpen()</a> returned true. </p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
</div>
<div id="nav-path" class="navpath">
  <ul>
    <li class="navelem"><a class="el" href="namespacecadex.html">cadex</a></li><li class="navelem"><a class="el" href="classcadex_1_1_base___stream_provider.html">Base_StreamProvider</a></li>
    <li class="footer">
      <a href="https://cadexchanger.com/custom-development" style="background: #226daa; color:#fff; padding: 6px; text-decoration: none; border-radius: 5px;">Custom Development</a>
      <a href="https://cadexchanger.com/products/gui" style="margin:5px;">GUI</a>
      <a href="https://cadexchanger.com/products/sdk" style="margin:5px;">SDK</a>
      <a href="https://cadexchanger.com/products/cli" style="margin:5px;">CLI</a>
      <a href="https://cadexchanger.com/products/web-toolkit" style="margin:5px;">Web Toolkit</a>
      <a href="https://cadexchanger.com/products/cloud" style="margin:5px;">Cloud</a>
      <a href="https://cadexchanger.com/products/cloud-api" style="margin:5px;">Cloud API</a>
      <a href="https://cadexchanger.com/iges" style="margin:5px; color: #838383;">IGES</a>
      <a href="https://cadexchanger.com/step" style="margin:5px; color: #838383;">STEP</a>
      <a href="https://cadexchanger.com/parasolid" style="margin:5px; color: #838383;">Parasolid</a>
      <a href="https://cadexchanger.com/acis" style="margin:5px; color: #838383;">ACIS</a>
      <a href="https://cadexchanger.com/jt" style="margin:5px; color: #838383;">JT</a>
      <a href="https://cadexchanger.com/stl" style="margin:5px; color: #838383;">STL</a>
      <a href="https://cadexchanger.com/obj" style="margin:5px; color: #838383;">OBJ</a>
      <a href="https://cadexchanger.com/solidworks" style="margin:5px; color: #838383;">SolidWorks</a>
      <a href="https://cadexchanger.com/creo" style="margin:5px; color: #838383;">Creo</a>
      <a href="https://cadexchanger.com/nx" style="margin:5px; color: #838383;">NX</a>
      <a href="https://cadexchanger.com/catia" style="margin:5px; color: #838383;">CATIA</a>
      <a href="https://cadexchanger.com/ifc" style="margin:5px; color: #838383;">IFC</a>
      <a href="https://cadexchanger.com/rhino" style="margin:5px; color: #838383;">Rhino</a>
      <a href="https://cadexchanger.com/vrml" style="margin:5px; color: #838383;">VRML</a>
      <a href="https://cadexchanger.com/fbx" style="margin:5px; color: #838383;">FBX</a>
      <a href="https://cadexchanger.com/gltf" style="margin:5px; color: #838383;">GLTF</a>
      <a href="https://cadexchanger.com/dxf" style="margin:5px; color: #838383;">DXF</a>
      <a href="https://cadexchanger.com/dwg" style="margin:5px; color: #838383;">DWG</a>
      <a href="https://cadexchanger.com/collada" style="margin:5px; color: #838383;">Collada</a>
      <a href="https://cadexchanger.com/3ds" style="margin:5px; color: #838383;">3DS</a>
      <a href="https://cadexchanger.com/x3d" style="margin:5px; color: #838383;">X3D</a>
      <a href="https://cadexchanger.com/3mf" style="margin:5px; color: #838383;">3MF</a>
      <a href="https://cadexchanger.com/u3d" style="margin:5px; color: #838383;">U3D</a>
      <a href="https://cadexchanger.com/3dpdf" style="margin:5px; color: #838383;">3D PDF</a>
      <a href="https://cadexchanger.com/prc" style="margin:5px; color: #838383;">PRC</a>
      <a href="https://cadexchanger.com/brep" style="margin:5px; color: #838383;">BRep</a>
      <a href="https://cadexchanger.com/usd" style="margin:5px; color: #838383;">USD</a>
      <a href="https://cadexchanger.com/" style="margin:5px; color: #838383;">cadexchanger.com</a>
    </li>
  </ul>
</div>
</body>
</html>
